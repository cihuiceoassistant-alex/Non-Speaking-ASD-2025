<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2025å¹´æœ‰é™å£èªè‡ªé–‰ç—‡è€…åœ‹éš›ç ”è¨æœƒå ±å</title>
<style>
/* ä½ åŸæœ¬çš„ CSSï¼Œå®Œå…¨ä¿ç•™ */
:root{--pink:#e27d9a;--gray:#e9ecef;--light:#fdfafa;--bg:#ffffff;--focus:#e27d9a22;--text:#444444}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Microsoft JhengHei",sans-serif;background:#f8f9fb;padding:20px;margin:0;line-height:1.7;color:var(--text)}
.c{max-width:760px;margin:0 auto;background:var(--bg);border-radius:26px;overflow:hidden;box-shadow:0 16px 50px rgba(226,125,154,.15)}
.h{background:linear-gradient(135deg,#eba1b5,var(--pink));color:white;padding:46px 36px;text-align:center}
.h h1{font-size:24px;line-height:1.45;font-weight:600;margin:0}
.i{padding:42px 36px;background:var(--light);line-height:1.9;font-size:16px;color:#555}
.i strong{color:var(--pink)}
form{padding:0 36px 46px 36px}
label{display:block;margin:28px 0 10px;font-weight:600;font-size:15.8px;color:#555}
input,select,textarea{width:100%;padding:17px 22px;border:2px solid var(--gray);border-radius:18px;font-size:16px;box-sizing:border-box;background:white;transition:all .3s}
input:focus,select:focus,textarea:focus{border-color:var(--pink);outline:none;box-shadow:0 0 0 6px var(--focus)}
select{height:58px} textarea{height:124px;resize:vertical}
.agree-box{margin:34px 0 10px;padding:26px;background:#fff9fb;border:2px solid #f5d9e3;border-radius:20px}
.agree-box label{margin:0;font-weight:normal;font-size:15.8px;line-height:1.85;display:flex;gap:18px;align-items:flex-start;cursor:pointer}
.agree-box input[type="checkbox"]{width:27px;height:27px;border-radius:10px;flex-shrink:0;accent-color:var(--pink)}
.agree-box strong{color:var(--pink)}
button{width:100%;padding:20px;background:#ced6e0;color:#888;border:none;border-radius:20px;font-size:18px;font-weight:bold;cursor:not-allowed;transition:all .35s;margin-top:14px}
button.active{background:var(--pink);color:white;cursor:pointer;box-shadow:0 10px 28px rgba(226,125,154,.35)}
button.loading{background:#d65a7f;pointer-events:none}
#dietDetails{display:none;margin-top:16px}
.ok,.error{margin:32px 36px;padding:30px;border:2px solid #f5d9e3;border-radius:20px;text-align:center;font-size:18.5px;font-weight:bold;display:none}
.ok{background:#fff5f8;color:var(--pink)}
.error{background:#fff5f5;color:#e74c3c;border-color:#f5d9d9}
.loading-text::after{content:' .';animation:dot 1.5s infinite}
@keyframes dot{0%,20%{content:' .'}40%{content:' ..'}60%{content:' ...'}80%,100%{content:' .'}}
</style>
</head>

<body>
<div class="c">
    <div class="h"><h1>2025å¹´ã€Œæœ‰é™å£èªè‡ªé–‰ç—‡è€…åœ‹éš›ç ”è¨æœƒ<br>â€”å…±èã€å…±å‰µã€å…±é€²ã€å ±åè¡¨</h1></div>

    <form id="seminarForm">
        <input type="hidden" id="timestamp">

        <label>å§“å *</label>
        <input type="text" id="name" required>

        <label>é›»å­ä¿¡ç®± *</label>
        <input type="email" id="email" required>

        <label>è¡Œå‹•é›»è©±è™Ÿç¢¼ *</label>
        <input type="tel" id="phone" required>

        <label>æœå‹™å–®ä½ï¼å°±è®€å­¸æ ¡</label>
        <input type="text" id="unit">

        <label>è·ç¨±ï¼èº«ä»½</label>
        <input type="text" id="title">

        <label>æ‚¨é è¨ˆåƒåŠ å ´æ¬¡ *</label>
        <select id="session" required>
            <option value="">è«‹é¸æ“‡</option>
            <option value="12æœˆ20æ—¥ï¼ˆå…­ï¼‰">12æœˆ20æ—¥ï¼ˆå…­ï¼‰</option>
            <option value="12æœˆ21æ—¥ï¼ˆæ—¥ï¼‰">12æœˆ21æ—¥ï¼ˆæ—¥ï¼‰</option>
            <option value="å…©å¤©çš†åƒåŠ ">å…©å¤©çš†åƒåŠ </option>
        </select>

        <label>æ‚¨æ˜¯å¦éœ€è¦ç‰¹æ®Šå”åŠ©æˆ–ç„¡éšœç¤™æœå‹™ï¼Ÿ *</label>
        <textarea id="assist" required placeholder="å¦‚è¼ªæ¤…å¸­ä½ã€æ‰‹èªç¿»è­¯ã€AACè¨­å‚™ç­‰ã€‚è‹¥ç„¡éœ€æ±‚è«‹å¡«ã€Œç„¡ã€"></textarea>

        <label>åˆé¤èª¿æŸ¥ *</label>
        <select id="diet" required onchange="document.getElementById('dietDetails').style.display=this.value==='æœ‰éæ•æˆ–ç‰¹æ®Šé£²é£Ÿéœ€æ±‚'?'block':'none'">
            <option value="">è«‹é¸æ“‡</option>
            <option value="ç„¡ç‰¹æ®Šéœ€æ±‚">ç„¡ç‰¹æ®Šéœ€æ±‚</option>
            <option value="æœ‰éæ•æˆ–ç‰¹æ®Šé£²é£Ÿéœ€æ±‚">æœ‰éæ•æˆ–ç‰¹æ®Šé£²é£Ÿéœ€æ±‚</option>
        </select>

        <div id="dietDetails">
            <input type="text" id="dietDetail" placeholder="è«‹èªªæ˜éæ•åŸæˆ–é£²é£Ÿé™åˆ¶">
        </div>

        <div class="agree-box">
            <label>
                <input type="checkbox" id="agree" required>
                <span><strong>å ±åç¢ºèª *</strong><br>æˆ‘ç¢ºèªä»¥ä¸Šè³‡è¨Šæ­£ç¢ºï¼Œä¸¦åŒæ„å ±åæœ¬æ´»å‹•ã€‚</span>
            </label>
        </div>

        <button type="submit" id="btn">é€å‡ºå ±å</button>

        <div id="ok" class="ok">å ±åæˆåŠŸï¼æ„Ÿè¬æ‚¨çš„åƒèˆ‡ã€‚</div>
        <div id="error" class="error">é€å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚</div>
    </form>
</div>

<script>
const SCRIPT_URL = "ğŸ‘‰ é€™è£¡è²¼ä¸Šä½ æœ€æ–°éƒ¨ç½²çš„ Web App URL ğŸ‘ˆ";

const form = document.getElementById('seminarForm');
const btn = document.getElementById('btn');
const ok = document.getElementById('ok');
const errorDiv = document.getElementById('error');
const agree = document.getElementById('agree');

agree.onchange = () => {
    if (agree.checked) { btn.classList.add('active'); btn.textContent = 'ç«‹å³é€å‡ºå ±å'; }
    else { btn.classList.remove('active'); btn.textContent = 'é€å‡ºå ±å'; }
};

form.addEventListener('submit', async e => {
    e.preventDefault();
    if (!btn.classList.contains('active')) return;

    ok.style.display = errorDiv.style.display = 'none';
    btn.classList.add('loading');
    btn.innerHTML = 'å‚³é€ä¸­ <span class="loading-text"></span>';

    document.getElementById('timestamp').value =
        new Date().toLocaleString('zh-TW', { timeZone: 'Asia/Taipei' });

    const data = {
        timestamp: document.getElementById('timestamp').value,
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        unit: document.getElementById('unit').value.trim(),
        title: document.getElementById('title').value.trim(),
        session: document.getElementById('session').value,
        assist: document.getElementById('assist').value.trim(),
        diet: document.getElementById('diet').value,
        dietDetail: document.getElementById('dietDetail').value.trim() || "ç„¡",
        agree: document.getElementById('agree').checked
    };

    try {
        const res = await fetch(SCRIPT_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json;charset=utf-8' },
            body: JSON.stringify(data)
        });

        const result = await res.json();
        if (res.ok && result.status === 'success') {
            ok.style.display = 'block';
            form.reset();
            document.getElementById('dietDetails').style.display = 'none';
            btn.classList.remove('active','loading');
            btn.textContent = 'é€å‡ºå ±å';
            setTimeout(() => ok.style.display = 'none', 7000);
        } else throw new Error(result.message);
    }
    catch (err) {
        errorDiv.textContent = 'é€å‡ºå¤±æ•—ï¼š' + (err.message || 'ç„¡æ³•é€å‡º');
        errorDiv.style.display = 'block';
        btn.classList.remove('loading');
        btn.textContent = 'ç«‹å³é€å‡ºå ±å';
    }
});
</script>
</body>
</html>
